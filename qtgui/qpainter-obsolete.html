<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qpainter.cpp -->
  <title>Obsolete Members for QPainter | Qt GUI 5.7</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    window.onload = function(){document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");};
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/supported-platforms-and-configurations.html#qt-5-7">Qt 5.7</a></td><td ><a href="qtgui-index.html">Qt GUI</a></td><td ><a href="qtgui-module.html">C++ Classes</a></td><td >QPainter</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt 5.7.0 参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar"><div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Obsolete Members for QPainter</h1>
<p><b>The following members of class <a href="qpainter.html">QPainter</a> are obsolete.</b> They are provided to keep old source code working. We strongly advise against using them in new code.</p>
<h2>Public Functions</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>QMatrix </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#combinedMatrix">combinedMatrix</a></b>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>const QMatrix &amp;</td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#deviceMatrix">deviceMatrix</a></b>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#drawRoundRect">drawRoundRect</a></b>(const QRectF &amp;<i>r</i>, int <i>xRnd</i> = 25, int <i>yRnd</i> = 25)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#drawRoundRect-1">drawRoundRect</a></b>(int <i>x</i>, int <i>y</i>, int <i>w</i>, int <i>h</i>, int <i>xRnd</i> = 25, int <i>yRnd</i> = 25)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#drawRoundRect-2">drawRoundRect</a></b>(const QRect &amp;<i>r</i>, int <i>xRnd</i> = 25, int <i>yRnd</i> = 25)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#initFrom">initFrom</a></b>(const QPaintDevice *<i>device</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>const QMatrix &amp;</td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#matrix">matrix</a></b>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>bool </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#matrixEnabled">matrixEnabled</a></b>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#resetMatrix">resetMatrix</a></b>()</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#setMatrix">setMatrix</a></b>(const QMatrix &amp;<i>matrix</i>, bool <i>combine</i> = false)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#setMatrixEnabled">setMatrixEnabled</a></b>(bool <i>enable</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#setWorldMatrix">setWorldMatrix</a></b>(const QMatrix &amp;<i>matrix</i>, bool <i>combine</i> = false)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>const QMatrix &amp;</td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#worldMatrix">worldMatrix</a></b>() const</td></tr>
</table></div>
<h2>Static Public Members</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>QPaintDevice *</td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#redirected">redirected</a></b>(const QPaintDevice *<i>device</i>, QPoint *<i>offset</i> = Q_NULLPTR)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#restoreRedirected">restoreRedirected</a></b>(const QPaintDevice *<i>device</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code>(obsolete) </code>void </td><td class="memItemRight bottomAlign"><b><a href="qpainter-obsolete.html#setRedirected">setRedirected</a></b>(const QPaintDevice *<i>device</i>, QPaintDevice *<i>replacement</i>, const QPoint &amp;<i>offset</i> = QPoint())</td></tr>
</table></div>
<h2>成员函数文档</h2>
<!-- $$$combinedMatrix[overload1]$$$combinedMatrix -->
<h3 class="fn" id="combinedMatrix"><a name="combinedMatrix"></a><span class="type"><a href="qmatrix.html">QMatrix</a></span> QPainter::<span class="name">combinedMatrix</span>() const</h3>
<p>Returns the transformation matrix combining the current window/viewport and world transformation.</p>
<p>It is advisable to use <a href="qpainter.html#combinedTransform">combinedTransform</a>() instead of this function to preserve the properties of perspective transformations.</p>
<p>This function was introduced in  Qt 4.2.</p>
<p><b>参照 </b><a href="qpainter.html#setWorldTransform">setWorldTransform</a>(), <a href="qpainter.html#setWindow">setWindow</a>(), and <a href="qpainter.html#setViewport">setViewport</a>().</p>
<!-- @@@combinedMatrix -->
<!-- $$$deviceMatrix[overload1]$$$deviceMatrix -->
<h3 class="fn" id="deviceMatrix"><a name="deviceMatrix"></a>const <span class="type"><a href="qmatrix.html">QMatrix</a></span> &amp;QPainter::<span class="name">deviceMatrix</span>() const</h3>
<p>Returns the matrix that transforms from logical coordinates to device coordinates of the platform dependent paint device.</p>
<p><b>注:</b>It is advisable to use <a href="qpainter.html#deviceTransform">deviceTransform</a>() instead of this function to preserve the properties of perspective transformations.</p><p>This function is <i>only</i> needed when using platform painting commands on the platform dependent handle (<a href="../qtcore/qt.html#HANDLE-typedef">Qt::HANDLE</a>), and the platform does not do transformations nativly.</p>
<p>The <a href="qpaintengine.html#PaintEngineFeature-enum">QPaintEngine::PaintEngineFeature</a> enum can be queried to determine whether the platform performs the transformations or not.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#worldMatrix">worldMatrix</a>() and <a href="qpaintengine.html#hasFeature">QPaintEngine::hasFeature</a>().</p>
<!-- @@@deviceMatrix -->
<!-- $$$drawRoundRect[overload1]$$$drawRoundRectconstQRectF&intint -->
<h3 class="fn" id="drawRoundRect"><a name="drawRoundRect"></a><span class="type">void</span> QPainter::<span class="name">drawRoundRect</span>(const <span class="type"><a href="../qtcore/qrectf.html">QRectF</a></span> &amp;<i>r</i>, <span class="type">int</span> <i>xRnd</i> = 25, <span class="type">int</span> <i>yRnd</i> = 25)</h3>
<p>Draws a rectangle <i>r</i> with rounded corners.</p>
<p>The <i>xRnd</i> and <i>yRnd</i> arguments specify how rounded the corners should be. 0 is angled corners, 99 is maximum roundedness.</p>
<p>A filled rectangle has a size of r.size(). A stroked rectangle has a size of r.size() plus the pen width.</p>
<p><b>参照 </b><a href="qpainter.html#drawRoundedRect">drawRoundedRect</a>().</p>
<!-- @@@drawRoundRect -->
<!-- $$$drawRoundRect$$$drawRoundRectintintintintintint -->
<h3 class="fn" id="drawRoundRect-1"><a name="drawRoundRect-1"></a><span class="type">void</span> QPainter::<span class="name">drawRoundRect</span>(<span class="type">int</span> <i>x</i>, <span class="type">int</span> <i>y</i>, <span class="type">int</span> <i>w</i>, <span class="type">int</span> <i>h</i>, <span class="type">int</span> <i>xRnd</i> = 25, <span class="type">int</span> <i>yRnd</i> = 25)</h3>
<p>This is an overloaded function.</p>
<p>Draws the rectangle <i>x</i>, <i>y</i>, <i>w</i>, <i>h</i> with rounded corners.</p>
<!-- @@@drawRoundRect -->
<!-- $$$drawRoundRect$$$drawRoundRectconstQRect&intint -->
<h3 class="fn" id="drawRoundRect-2"><a name="drawRoundRect-2"></a><span class="type">void</span> QPainter::<span class="name">drawRoundRect</span>(const <span class="type"><a href="../qtcore/qrect.html">QRect</a></span> &amp;<i>r</i>, <span class="type">int</span> <i>xRnd</i> = 25, <span class="type">int</span> <i>yRnd</i> = 25)</h3>
<p>This is an overloaded function.</p>
<p>Draws the rectangle <i>r</i> with rounded corners.</p>
<!-- @@@drawRoundRect -->
<!-- $$$initFrom[overload1]$$$initFromconstQPaintDevice* -->
<h3 class="fn" id="initFrom"><a name="initFrom"></a><span class="type">void</span> QPainter::<span class="name">initFrom</span>(const <span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *<i>device</i>)</h3>
<p>Initializes the painters pen, background and font to the same as the given <i>device</i>.</p>
<p><b>参照 </b><a href="qpainter.html#begin">begin</a>() and <a href="qpainter.html#settings">Settings</a>.</p>
<!-- @@@initFrom -->
<!-- $$$matrix[overload1]$$$matrix -->
<h3 class="fn" id="matrix"><a name="matrix"></a>const <span class="type"><a href="qmatrix.html">QMatrix</a></span> &amp;QPainter::<span class="name">matrix</span>() const</h3>
<p>Use <a href="qpainter.html#worldTransform">worldTransform</a>() instead.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#setMatrix">setMatrix</a>() and <a href="qpainter.html#worldTransform">worldTransform</a>().</p>
<!-- @@@matrix -->
<!-- $$$matrixEnabled[overload1]$$$matrixEnabled -->
<h3 class="fn" id="matrixEnabled"><a name="matrixEnabled"></a><span class="type">bool</span> QPainter::<span class="name">matrixEnabled</span>() const</h3>
<p>Use <a href="qpainter.html#worldMatrixEnabled">worldMatrixEnabled</a>() instead</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#setMatrixEnabled">setMatrixEnabled</a>() and <a href="qpainter.html#worldMatrixEnabled">worldMatrixEnabled</a>().</p>
<!-- @@@matrixEnabled -->
<!-- $$$redirected[overload1]$$$redirectedconstQPaintDevice*QPoint* -->
<h3 class="fn" id="redirected"><a name="redirected"></a><code>[静态] </code><span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *QPainter::<span class="name">redirected</span>(const <span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *<i>device</i>, <span class="type"><a href="../qtcore/qpoint.html">QPoint</a></span> *<i>offset</i> = Q_NULLPTR)</h3>
<p>Using <a href="../qtwidgets/qwidget.html#render">QWidget::render</a>() obsoletes the use of this function.</p>
<p>Returns the replacement for given <i>device</i>. The optional out parameter <i>offset</i> returns the offset within the replaced device.</p>
<p><b>Warning:</b> Making use of redirections in the <a href="qpainter.html">QPainter</a> API implies that <a href="qpainter.html#begin">QPainter::begin</a>() and <a href="qpaintdevice.html">QPaintDevice</a> destructors need to hold a mutex for a short period. This can impact performance. Use of <a href="../qtwidgets/qwidget.html#render">QWidget::render</a> is strongly encouraged.</p>
<p><b>注:</b> This function is <a href="../qtdoc/threads-reentrancy.html">thread-safe</a></p>
<p><b>参照 </b><a href="qpainter-obsolete.html#setRedirected">setRedirected</a>() and <a href="qpainter-obsolete.html#restoreRedirected">restoreRedirected</a>().</p>
<!-- @@@redirected -->
<!-- $$$resetMatrix[overload1]$$$resetMatrix -->
<h3 class="fn" id="resetMatrix"><a name="resetMatrix"></a><span class="type">void</span> QPainter::<span class="name">resetMatrix</span>()</h3>
<p>Resets any transformations that were made using <a href="qpainter.html#translate">translate</a>(), <a href="qpainter.html#scale">scale</a>(), <a href="qpainter.html#shear">shear</a>(), <a href="qpainter.html#rotate">rotate</a>(), <a href="qpainter-obsolete.html#setWorldMatrix">setWorldMatrix</a>(), <a href="qpainter.html#setViewport">setViewport</a>() and <a href="qpainter.html#setWindow">setWindow</a>().</p>
<p>It is advisable to use <a href="qpainter.html#resetTransform">resetTransform</a>() instead of this function to preserve the properties of perspective transformations.</p>
<p><b>参照 </b><a href="qpainter.html#coordinate-transformations">Coordinate Transformations</a>.</p>
<!-- @@@resetMatrix -->
<!-- $$$restoreRedirected[overload1]$$$restoreRedirectedconstQPaintDevice* -->
<h3 class="fn" id="restoreRedirected"><a name="restoreRedirected"></a><code>[静态] </code><span class="type">void</span> QPainter::<span class="name">restoreRedirected</span>(const <span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *<i>device</i>)</h3>
<p>Using <a href="../qtwidgets/qwidget.html#render">QWidget::render</a>() obsoletes the use of this function.</p>
<p>Restores the previous redirection for the given <i>device</i> after a call to <a href="qpainter-obsolete.html#setRedirected">setRedirected</a>().</p>
<p><b>Warning:</b> Making use of redirections in the <a href="qpainter.html">QPainter</a> API implies that <a href="qpainter.html#begin">QPainter::begin</a>() and <a href="qpaintdevice.html">QPaintDevice</a> destructors need to hold a mutex for a short period. This can impact performance. Use of <a href="../qtwidgets/qwidget.html#render">QWidget::render</a> is strongly encouraged.</p>
<p><b>注:</b> This function is <a href="../qtdoc/threads-reentrancy.html">thread-safe</a></p>
<p><b>参照 </b><a href="qpainter-obsolete.html#redirected">redirected</a>().</p>
<!-- @@@restoreRedirected -->
<!-- $$$setMatrix[overload1]$$$setMatrixconstQMatrix&bool -->
<h3 class="fn" id="setMatrix"><a name="setMatrix"></a><span class="type">void</span> QPainter::<span class="name">setMatrix</span>(const <span class="type"><a href="qmatrix.html">QMatrix</a></span> &amp;<i>matrix</i>, <span class="type">bool</span> <i>combine</i> = false)</h3>
<p>Use <a href="qpainter.html#setWorldTransform">setWorldTransform</a>() instead.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#matrix">matrix</a>() and <a href="qpainter.html#setWorldTransform">setWorldTransform</a>().</p>
<!-- @@@setMatrix -->
<!-- $$$setMatrixEnabled[overload1]$$$setMatrixEnabledbool -->
<h3 class="fn" id="setMatrixEnabled"><a name="setMatrixEnabled"></a><span class="type">void</span> QPainter::<span class="name">setMatrixEnabled</span>(<span class="type">bool</span> <i>enable</i>)</h3>
<p>Use <a href="qpainter.html#setWorldMatrixEnabled">setWorldMatrixEnabled</a>() instead.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#matrixEnabled">matrixEnabled</a>() and <a href="qpainter.html#setWorldMatrixEnabled">setWorldMatrixEnabled</a>().</p>
<!-- @@@setMatrixEnabled -->
<!-- $$$setRedirected[overload1]$$$setRedirectedconstQPaintDevice*QPaintDevice*constQPoint& -->
<h3 class="fn" id="setRedirected"><a name="setRedirected"></a><code>[静态] </code><span class="type">void</span> QPainter::<span class="name">setRedirected</span>(const <span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *<i>device</i>, <span class="type"><a href="qpaintdevice.html">QPaintDevice</a></span> *<i>replacement</i>, const <span class="type"><a href="../qtcore/qpoint.html">QPoint</a></span> &amp;<i>offset</i> = QPoint())</h3>
<p>Please use <a href="../qtwidgets/qwidget.html#render">QWidget::render</a>() instead.</p>
<p>Redirects all paint commands for the given paint <i>device</i>, to the <i>replacement</i> device. The optional point <i>offset</i> defines an offset within the source device.</p>
<p>The redirection will not be effective until the <a href="qpainter.html#begin">begin</a>() function has been called; make sure to call <a href="qpainter.html#end">end</a>() for the given <i>device</i>'s painter (if any) before redirecting. Call <a href="qpainter-obsolete.html#restoreRedirected">restoreRedirected</a>() to restore the previous redirection.</p>
<p><b>Warning:</b> Making use of redirections in the <a href="qpainter.html">QPainter</a> API implies that <a href="qpainter.html#begin">QPainter::begin</a>() and <a href="qpaintdevice.html">QPaintDevice</a> destructors need to hold a mutex for a short period. This can impact performance. Use of <a href="../qtwidgets/qwidget.html#render">QWidget::render</a> is strongly encouraged.</p>
<p><b>注:</b> This function is <a href="../qtdoc/threads-reentrancy.html">thread-safe</a></p>
<p><b>参照 </b><a href="qpainter-obsolete.html#redirected">redirected</a>() and <a href="qpainter-obsolete.html#restoreRedirected">restoreRedirected</a>().</p>
<!-- @@@setRedirected -->
<!-- $$$setWorldMatrix[overload1]$$$setWorldMatrixconstQMatrix&bool -->
<h3 class="fn" id="setWorldMatrix"><a name="setWorldMatrix"></a><span class="type">void</span> QPainter::<span class="name">setWorldMatrix</span>(const <span class="type"><a href="qmatrix.html">QMatrix</a></span> &amp;<i>matrix</i>, <span class="type">bool</span> <i>combine</i> = false)</h3>
<p>Sets the transformation matrix to <i>matrix</i> and enables transformations.</p>
<p><b>注:</b>It is advisable to use <a href="qpainter.html#setWorldTransform">setWorldTransform</a>() instead of this function to preserve the properties of perspective transformations.</p><p>If <i>combine</i> is true, then <i>matrix</i> is combined with the current transformation matrix; otherwise <i>matrix</i> replaces the current transformation matrix.</p>
<p>If <i>matrix</i> is the identity matrix and <i>combine</i> is false, this function calls <a href="qpainter.html#setWorldMatrixEnabled">setWorldMatrixEnabled</a>(false). (The identity matrix is the matrix where <a href="qmatrix.html#m11">QMatrix::m11</a>() and <a href="qmatrix.html#m22">QMatrix::m22</a>() are 1.0 and the rest are 0.0&#x2e;)</p>
<p>The following functions can transform the coordinate system without using a <a href="qmatrix.html">QMatrix</a>:</p>
<ul>
<li><a href="qpainter.html#translate">translate</a>()</li>
<li><a href="qpainter.html#scale">scale</a>()</li>
<li><a href="qpainter.html#shear">shear</a>()</li>
<li><a href="qpainter.html#rotate">rotate</a>()</li>
</ul>
<p>They operate on the painter's <a href="qpainter-obsolete.html#worldMatrix">worldMatrix</a>() and are implemented like this:</p>
<pre class="cpp">

  <span class="type">void</span> <span class="type"><a href="qpainter.html#QPainter">QPainter</a></span><span class="operator">::</span>rotate(<span class="type"><a href="../qtcore/qtglobal.html#qreal-typedef">qreal</a></span> angle)
  {
      <span class="type"><a href="qmatrix.html">QMatrix</a></span> matrix;
      matrix<span class="operator">.</span>rotate(angle);
      setWorldMatrix(matrix<span class="operator">,</span> <span class="keyword">true</span>);
  }

</pre>
<p>Note that when using setWorldMatrix() function you should always have <i>combine</i> be true when you are drawing into a <a href="qpicture.html">QPicture</a>. Otherwise it may not be possible to replay the picture with additional transformations; using the <a href="qpainter.html#translate">translate</a>(), <a href="qpainter.html#scale">scale</a>(), etc. convenience functions is safe.</p>
<p>For more information about the coordinate system, transformations and window-viewport conversion, see <a href="coordsys.html">Coordinate System</a>.</p>
<p>This function was introduced in  Qt 4.2.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#worldMatrix">worldMatrix</a>(), <a href="qpainter.html#setWorldTransform">setWorldTransform</a>(), and <a href="qtransform.html">QTransform</a>.</p>
<!-- @@@setWorldMatrix -->
<!-- $$$worldMatrix[overload1]$$$worldMatrix -->
<h3 class="fn" id="worldMatrix"><a name="worldMatrix"></a>const <span class="type"><a href="qmatrix.html">QMatrix</a></span> &amp;QPainter::<span class="name">worldMatrix</span>() const</h3>
<p>Returns the world transformation matrix.</p>
<p>It is advisable to use <a href="qpainter.html#worldTransform">worldTransform</a>() because worldMatrix() does not preserve the properties of perspective transformations.</p>
<p>This function was introduced in  Qt 4.2.</p>
<p><b>参照 </b><a href="qpainter-obsolete.html#setWorldMatrix">setWorldMatrix</a>(), <a href="qpainter.html#coordinate-transformations">Coordinate Transformations</a>, and <a href="coordsys.html">Coordinate System</a>.</p>
<!-- @@@worldMatrix -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2016 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
