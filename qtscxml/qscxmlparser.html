<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qscxmlparser.cpp -->
  <title>QScxmlParser Class | Qt SCXML 5.7</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    window.onload = function(){document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");};
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/supported-platforms-and-configurations.html#qt-5-7">Qt 5.7</a></td><td ><a href="qtscxml-index.html">Qt SCXML</a></td><td ><a href="qtscxml-module.html">C++ Classes</a></td><td >QScxmlParser</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt 5.7.0 参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#public-types">共有成员变量</a></li>
<li class="level1"><a href="#public-functions">公共函数</a></li>
<li class="level1"><a href="#details">详细描述</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">QScxmlParser Class</h1>
<!-- $$$QScxmlParser-brief -->
<p>The <a href="qscxmlparser.html">QScxmlParser</a> class is a parser for SCXML files. <a href="#details">更多...</a></p>
<!-- @@@QScxmlParser -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">   <span class="preprocessor">#include &lt;QScxmlParser&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += scxml</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  Qt 5.7</td></tr></table></div><ul>
<li><a href="qscxmlparser-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2 id="public-types">共有成员变量</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> class </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser-loader.html">Loader</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#QtMode-enum">QtMode</a></b> { QtModeDisabled, QtModeEnabled, QtModeFromInputFile }</td></tr>
</table></div>
<a name="public-functions"></a>
<h2 id="public-functions">公共函数</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#QScxmlParser">QScxmlParser</a></b>(QXmlStreamReader *<i>reader</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#dtor.QScxmlParser">~QScxmlParser</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#addError">addError</a></b>(const QString &amp;<i>msg</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVector&lt;QScxmlError&gt; </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#errors">errors</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#fileName">fileName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#instantiateDataModel">instantiateDataModel</a></b>(QScxmlStateMachine *<i>stateMachine</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QScxmlStateMachine *</td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#instantiateStateMachine">instantiateStateMachine</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Loader *</td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#loader">loader</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#parse">parse</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QtMode </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#qtMode">qtMode</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#setFileName">setFileName</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#setLoader">setLoader</a></b>(Loader *<i>newLoader</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qscxmlparser.html#setQtMode">setQtMode</a></b>(QtMode <i>mode</i>)</td></tr>
</table></div>
<a name="details"></a>
<!-- $$$QScxmlParser-description -->
<div class="descr">
<h2 id="details">详细描述</h2>
<p>The <a href="qscxmlparser.html">QScxmlParser</a> class is a parser for SCXML files.</p>
<p>Parses an <a href="http://www.w3.org/TR/scxml/">SCXML</a> file. It can also dynamically instantiate a state machine for a successfully parsed SCXML file. If parsing failed and <a href="qscxmlparser.html#instantiateStateMachine">instantiateStateMachine</a>() is called, the new state machine cannot start. All errors are returned by <a href="qscxmlstatemachine.html#parseErrors">QScxmlStateMachine::parseErrors</a>().</p>
<p>To load an SCXML file, <a href="qscxmlstatemachine.html#fromFile">QScxmlStateMachine::fromFile</a> or <a href="qscxmlstatemachine.html#fromData">QScxmlStateMachine::fromData</a> should be used. Using <a href="qscxmlparser.html">QScxmlParser</a> directly is only needed when the parser needs to use a custom <a href="qscxmlparser-loader.html">QScxmlParser::Loader</a>.</p>
</div>
<!-- @@@QScxmlParser -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$QtMode$$$QtModeDisabled$$$QtModeEnabled$$$QtModeFromInputFile -->
<h3 class="fn" id="QtMode-enum"><a name="QtMode-enum"></a>enum QScxmlParser::<span class="name">QtMode</span></h3>
<p>This enum specifies if the document should be parsed in Qt mode. In Qt mode, event and state names have to be valid C++ identifiers. If that is the case some additional convenience methods are generated. If not, the parser will reject the document. Qt mode can be enabled in the document itself by adding an XML comment of the form:</p>
<p><code>&lt;!-- enable-qt-mode: yes --&gt;</code></p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code>QScxmlParser::QtModeDisabled</code></td><td class="topAlign tblval"><code>0</code></td><td class="topAlign">Ignore the XML comment and do not generate additional methods.</td></tr>
<tr><td class="topAlign"><code>QScxmlParser::QtModeEnabled</code></td><td class="topAlign tblval"><code>1</code></td><td class="topAlign">Force parsing in Qt mode and try to generate the additional methods, no matter if the XML comment is present.</td></tr>
<tr><td class="topAlign"><code>QScxmlParser::QtModeFromInputFile</code></td><td class="topAlign tblval"><code>2</code></td><td class="topAlign">Enable Qt mode only if the XML comment is present in the document.</td></tr>
</table></div>
<!-- @@@QtMode -->
</div>
<div class="func">
<h2>成员函数文档</h2>
<!-- $$$QScxmlParser[overload1]$$$QScxmlParserQXmlStreamReader* -->
<h3 class="fn" id="QScxmlParser"><a name="QScxmlParser"></a>QScxmlParser::<span class="name">QScxmlParser</span>(<span class="type"><a href="../qtcore/qxmlstreamreader.html">QXmlStreamReader</a></span> *<i>reader</i>)</h3>
<p>Creates a new SCXML parser for the specified <i>reader</i>.</p>
<!-- @@@QScxmlParser -->
<!-- $$$~QScxmlParser[overload1]$$$~QScxmlParser -->
<h3 class="fn" id="dtor.QScxmlParser"><a name="dtor.QScxmlParser"></a>QScxmlParser::<span class="name">~QScxmlParser</span>()</h3>
<p>Destroys the SCXML parser.</p>
<!-- @@@~QScxmlParser -->
<!-- $$$addError[overload1]$$$addErrorconstQString& -->
<h3 class="fn" id="addError"><a name="addError"></a><span class="type">void</span> QScxmlParser::<span class="name">addError</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i>msg</i>)</h3>
<p>Adds the error message <i>msg</i>.</p>
<p>The line and column numbers for the error message are the current line and column numbers of the <a href="../qtcore/qxmlstreamreader.html">QXmlStreamReader</a>.</p>
<!-- @@@addError -->
<!-- $$$errors[overload1]$$$errors -->
<h3 class="fn" id="errors"><a name="errors"></a><span class="type"><a href="../qtcore/qvector.html">QVector</a></span>&lt;<span class="type"><a href="qscxmlerror.html">QScxmlError</a></span>&gt; QScxmlParser::<span class="name">errors</span>() const</h3>
<p>Returns the list of parse errors.</p>
<!-- @@@errors -->
<!-- $$$fileName[overload1]$$$fileName -->
<h3 class="fn" id="fileName"><a name="fileName"></a><span class="type"><a href="../qtcore/qstring.html">QString</a></span> QScxmlParser::<span class="name">fileName</span>() const</h3>
<p>Returns the file name associated with the current input.</p>
<p><b>参照 </b><a href="qscxmlparser.html#setFileName">setFileName</a>().</p>
<!-- @@@fileName -->
<!-- $$$instantiateDataModel[overload1]$$$instantiateDataModelQScxmlStateMachine* -->
<h3 class="fn" id="instantiateDataModel"><a name="instantiateDataModel"></a><span class="type">void</span> QScxmlParser::<span class="name">instantiateDataModel</span>(<span class="type"><a href="qscxmlstatemachine.html">QScxmlStateMachine</a></span> *<i>stateMachine</i>) const</h3>
<p>Instantiates the data model as described in the SCXML file.</p>
<p>After instantiation, the <i>stateMachine</i> takes ownership of the data model.</p>
<!-- @@@instantiateDataModel -->
<!-- $$$instantiateStateMachine[overload1]$$$instantiateStateMachine -->
<h3 class="fn" id="instantiateStateMachine"><a name="instantiateStateMachine"></a><span class="type"><a href="qscxmlstatemachine.html">QScxmlStateMachine</a></span> *QScxmlParser::<span class="name">instantiateStateMachine</span>() const</h3>
<p>Instantiates a new state machine from the parsed SCXML.</p>
<p>If parsing is successful, the returned state machine can be initialized and started. If parsing fails, <a href="qscxmlstatemachine.html#parseErrors">QScxmlStateMachine::parseErrors</a>() can be used to retrieve a list of errors.</p>
<p><b>注:</b>The instantiated state machine will not have an associated data model set.</p><p><b>参照 </b><a href="qscxmlparser.html#instantiateDataModel">QScxmlParser::instantiateDataModel</a>.</p>
<!-- @@@instantiateStateMachine -->
<!-- $$$loader[overload1]$$$loader -->
<h3 class="fn" id="loader"><a name="loader"></a><span class="type"><a href="qscxmlparser-loader.html">Loader</a></span> *QScxmlParser::<span class="name">loader</span>() const</h3>
<p>Returns the loader that is currently used to resolve and load URIs.</p>
<p><b>参照 </b><a href="qscxmlparser.html#setLoader">setLoader</a>().</p>
<!-- @@@loader -->
<!-- $$$parse[overload1]$$$parse -->
<h3 class="fn" id="parse"><a name="parse"></a><span class="type">void</span> QScxmlParser::<span class="name">parse</span>()</h3>
<p>Parses an SCXML file.</p>
<!-- @@@parse -->
<!-- $$$qtMode[overload1]$$$qtMode -->
<h3 class="fn" id="qtMode"><a name="qtMode"></a><span class="type"><a href="qscxmlparser.html#QtMode-enum">QtMode</a></span> QScxmlParser::<span class="name">qtMode</span>() const</h3>
<p>Returns how the parser decides if the SCXML document should conform to Qt mode.</p>
<p><b>参照 </b><a href="qscxmlparser.html#setQtMode">setQtMode</a>() and <a href="qscxmlparser.html#QtMode-enum">QtMode</a>.</p>
<!-- @@@qtMode -->
<!-- $$$setFileName[overload1]$$$setFileNameconstQString& -->
<h3 class="fn" id="setFileName"><a name="setFileName"></a><span class="type">void</span> QScxmlParser::<span class="name">setFileName</span>(const <span class="type"><a href="../qtcore/qstring.html">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>Sets the file name for the current input to <i>fileName</i>.</p>
<p>The file name is used for error reporting and for resolving relative path URIs.</p>
<p><b>参照 </b><a href="qscxmlparser.html#fileName">fileName</a>().</p>
<!-- @@@setFileName -->
<!-- $$$setLoader[overload1]$$$setLoaderLoader* -->
<h3 class="fn" id="setLoader"><a name="setLoader"></a><span class="type">void</span> QScxmlParser::<span class="name">setLoader</span>(<span class="type"><a href="qscxmlparser-loader.html">Loader</a></span> *<i>newLoader</i>)</h3>
<p>Sets <i>newLoader</i> to be used for resolving and loading URIs.</p>
<p><b>参照 </b><a href="qscxmlparser.html#loader">loader</a>().</p>
<!-- @@@setLoader -->
<!-- $$$setQtMode[overload1]$$$setQtModeQtMode -->
<h3 class="fn" id="setQtMode"><a name="setQtMode"></a><span class="type">void</span> QScxmlParser::<span class="name">setQtMode</span>(<span class="type"><a href="qscxmlparser.html#QtMode-enum">QtMode</a></span> <i>mode</i>)</h3>
<p>Sets the <code>qtMode</code> to <i>mode</i>. This property overrides the XML comment. You can force Qt mode to be used by setting it to <code>QtModeEnabled</code> or force any XML comments to be ignored and Qt mode to be used by setting it to <code>QtModeDisabled</code>. The default is <code>QtModeFromInputFile</code>, which will switch Qt mode on if the XML comment is present in the source file.</p>
<p><b>参照 </b><a href="qscxmlparser.html#qtMode">qtMode</a>() and <a href="qscxmlparser.html#QtMode-enum">QtMode</a>.</p>
<!-- @@@setQtMode -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2016 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
